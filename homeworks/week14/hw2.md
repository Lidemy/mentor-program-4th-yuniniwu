## 部署心得

為了體驗買網域、架主機的感覺，暫時跳過了12、13週先來把這部分做起來。

> [第一個自己的網頁](http://nijigamieta.tw/lidemy-mentor-program-4th/week11/hw1/index.php)

能夠部署成功都要感謝前人詳細的部署紀錄文章。殊不知照著做也是會卡關，最後大概花了 10 個小時才架好。接下來是流水帳式的心得記錄。

然後看了老師分享的參考影片，覺得幸好我有參考前人的文章跟著做，不然靠自己查可能一個禮拜都弄不好。感謝所有寫分享文的同學、學長姐們。

---

剛開始只知道要做三件事：買主機、買網域、把之前做的網頁上傳到主機去。

因為 aws 最有名，於是先到他官網逛了一圈，發現也太多免費的資源可以用了吧，雖然大部分都看不懂在幹嘛。快速瞄了一下 aws 官網，還是沒有頭緒，於是開始 google 看看。

一開始查到 [Tomy 詳細的手把手教學文](https://blog.tomy168.com/2019/08/amazon-aws-ec2.html)，跟著做了 2 個小時後，開始感覺到「這只是剛開始，後面一定還有更多眉眉角角的細節」，於是把課綱推薦閱讀的那幾篇開起來，小心翼翼地跟著做。一邊做，再一邊搭配第四期同學們的卡關心得、十四週的筆記分享慢慢進行。

要用 SSH 連線到遠端主機的時候，還忘記自己當初選了新加坡的主機，怎麼都連不上。

很怕自己哪個步驟漏掉了，開始對每個畫面截圖，並記錄自己做了什麼。

接著開始安裝各種程式。安裝 tasksel、在 tasksel 裝 lamp-server、裝 phpMyAdmin（在這個部分要選 apach2 的這個步驟，我忽略了教學文上面寫的「要按空白鍵選擇apach2」，導致後來連不上 phpMyAdmin，但就剛好這一頁沒截圖，幸好我有印象我沒按下空白鍵)

裝好 phpMyAdmin，接著設定了兩組帳號密碼，這邊後來差點搞混。

到這裡又回頭把教學文逐字看過，就怕又漏掉哪邊。

接著跟著同學的這篇文修正了 phpMyAdmin 不能匯入匯出的 bug。
> [\[week 14\] 網站部署 - 設定 AWS EC2 遠端主機 + Ubuntu LAMP 環境 + phpMyAdmin - HackMD](https://hackmd.io/@Heidi-Liu/note-website-deployment)

連上主機後太久沒有動作會被踢掉，要重新連線。重新連線進入主機後，發現一行很明顯的 warning `*** System restart required ***`

查了一陣子資料才發現是要我重開機的概念。但要從哪裡重開機啊？

`sudo reboot` 原來是你。
執行完重開機會被踢掉，再重新連線後，就沒有出現 `*** System restart required ***`的提示了。

接著把之前的 DB 匯入 遠端主機的 DB，這部分很順利，再次感謝同學的分享文。

然後用 FTP 連線上傳檔案，這部分也很 OK。

最後在連線檔的地方卡關。

查不太到資料，同學筆記也沒有寫，於是開了之前第九週用的那個 local 的 phpMyAdmin 介面跟現在的比一比，再把之前的 FTP 連線相關的資訊跟現在的比一比。

原來是 server 寫錯了。我寫成遠端主機的 IPv4 位址，後來仔細一想，應該要填 `localhost:3306` 才對。同時發現自己搞混了遠端主機的角色。

特地用手機測試了一下，真的成功了！開心～

再次感謝所有寫了分享文的同學們、網路大大們！
